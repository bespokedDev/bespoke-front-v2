---
description: Reglas maestras de arquitectura, desarrollo y UI para el proyecto Next.js. Estas reglas deben aplicarse en CADA interacci贸n.
alwaysApply: true
globs: **/*
---

#  [CONTEXTO DEL SISTEMA] PLATAFORMA EDUCATIVA (ESTNDAR PROFESIONAL)

## 1. CUMPLIMIENTO Y MODO DE OPERACIN (MANDATORIO)

- **Verificaci贸n de Reglas:** Antes de cada respuesta de c贸digo, la IA debe validar internamente que su propuesta cumple con este archivo `.mdc`.
- **Aprobaci贸n Obligatoria:** NUNCA modifique archivos, cree nuevos o implemente l贸gica compleja sin **APROBACIN EXPLICITA**. Presente el plan en el chat y espere confirmaci贸n.
- **Modo Asesoramiento:** Ante preguntas, la IA debe **ANALIZAR y EXPLICAR**. No generar谩 c贸digo hasta recibir orden de implementaci贸n clara.
- **Prohibici贸n de Documentaci贸n F铆sica:** **PROHIBIDO** generar archivos de documentaci贸n (.md, .txt, etc.). Toda comunicaci贸n es v铆a chat.

## 2. STACK TECNOLGICO Y VERSIONES

- **Versiones:** Utilizar siempre las versiones estables instaladas en el proyecto (`package.json`). No asumir versiones obsoletas.
- **Prioridad RSC:** Server Components por defecto. `use client` solo para interactividad necesaria.
- **Tipado:** TypeScript estricto. Prohibido el uso de `any`.
- **UI:** Exclusivamente **Shadcn UI** y **Tailwind CSS**.
- **Fechas:** Uso exclusivo de **date-fns**.

## 3. ESTNDARES DE CDIGO (CLEAN CODE)

- **Responsabilidad nica:** Funciones y componentes peque帽os. Si un componente excede las 150 l铆neas, evaluar divisi贸n.
- **Manejo de Errores:** Implementar manejo de errores robusto tanto en Server Actions como en API Routes, utilizando los patrones de Next.js (`error.tsx`, `loading.tsx`).
- **No Invenci贸n:** Si falta informaci贸n sobre una API o modelo, la IA **DEBE PREGUNTAR**. Prohibido alucinar estructuras de datos.

## 4. DISEO DE INTERFAZ (UI/UX) Y RESPONSIVIDAD

- **Distribuci贸n Est茅tica y L贸gica:** Los cambios en la interfaz deben ser visualmente armoniosos.
- **Optimizaci贸n de Espacio:** Si dos campos/elementos contienen poca informaci贸n, posicionarlos **horizontalmente (uno al lado del otro)** para evitar scroll innecesario y mejorar la est茅tica.
- **Mobile-First:** Uso obligatorio de prefijos responsivos de Tailwind (`sm:`, `md:`, `lg:`).
- **Consistencia:** El c贸digo nuevo debe ser estil铆sticamente id茅ntico al existente. Si el c贸digo previo es deficiente, sugerir refactorizaci贸n ANTES de aplicar cambios.

## 5. OPTIMIZACIN Y RENDIMIENTO (VERCEL HOBBY)

- **Eficiencia:** Dise帽ar c贸digo para minimizar Invocaciones Serverless y transferencia de datos.
- **Caching:** Aprovechar al m谩ximo el Data Cache y Full Route Cache de Next.js.

## 6. ESTRATEGIA DE TESTING

- **Herramientas:** Jest/Vitest + React Testing Library + MSW.
- **Cobertura:** M铆nimo **90%** en l贸gica contable, reportes y utilidades cr铆ticas.
- **Ubicaci贸n:** Carpetas `__tests__` o archivos `.test.ts/tsx`.